<!-- Exercise 3 -->
<html>
    <head>
        <meta charset=utf-8 />
        <title> Change the paragraph background color</title>
        <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">    
        <style>
            body {
                font-family: 'Quicksand', sans-serif;
                padding: 20px;
            }
            p {
                padding: 5px;
                border: 1px solid black;
            }
        </style>
    </head>
    <body>
        <p id = "para" >
            This paragraph background color changes
        </p>

        <input id="pick" type = "color">

        <button onclick="changeColor()">Change the background color</button>

        <script> 
         //find color picker
            function changeColor(){
                var color = document.getElementById("pick").value;
                backgroundColor(color);
                lightOrDark(color);

            }

            function backgroundColor(color){
                document.getElementById("para").style.backgroundColor = color;

            }

            function lightOrDark(color) {
                // Variables for red, green, blue values
                var r, g, b, hsp;

                // Convert RGB to HEX: http://gist.github.com/983661
                color = +("0x" + color.slice(1).replace( 
                    color.length < 5 && /./g, '$&$&'));

                    r = color >> 16;
                    g = color >> 8 & 255;
                    b = color & 255;

                // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html
                hsp = Math.sqrt(
                    0.299 * (r * r) +
                    0.587 * (g * g) +
                    0.114 * (b * b)
                    );
                

                // Using the HSP value, determine whether the color is light or dark
                if (hsp>127.5) {
                    document.getElementById("para").style.color = "black";
                } 
                else {
                    document.getElementById("para").style.color = "white";
                }
            }
            
        </script>



    </body>
</html>